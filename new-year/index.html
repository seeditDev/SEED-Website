<!DOCTYPE html><html lang="en"><head>  <meta charset="UTF-8" />  <meta name="viewport" content="width=device-width, initial-scale=1.0" />  <title>Heap Sort Visualizer</title>  <style>    body {      background-color: #1e1e2f;      color: white;      font-family: sans-serif;      display: flex;      flex-direction: column;      align-items: center;      padding: 20px;    }    .array-container {      display: flex;      gap: 10px;      align-items: flex-end;      margin-bottom: 5px;    }    .bar {      width: 40px;      text-align: center;      border-radius: 5px;      padding: 10px 0;    }    .blue { background-color: #3b82f6; }    .yellow { background-color: #facc15; }    .red { background-color: #ef4444; }    .gray { background-color: #4b5563; }    button {      margin: 5px;      padding: 10px 20px;      background-color: #4b5563;      border: none;      color: white;      border-radius: 5px;      cursor: pointer;    }    input {      margin: 5px;      padding: 10px;      border-radius: 5px;      border: none;      width: 200px;    }    .explanation {      background-color: #2d2d3a;      padding: 10px;      border-radius: 5px;      margin-top: 10px;      width: 90%;      max-width: 600px;      white-space: pre-wrap;    }    .indexes {      margin-top: 0px;      font-size: 12px;      text-align: center;      display: flex;      gap: 10px;    }    .indexes span {      width: 40px;      text-align: center;    }    .code-box {      margin-top: 20px;      background: #2d2d3a;      padding: 10px;      border-radius: 5px;      font-family: monospace;      width: 90%;      max-width: 600px;    }    .highlight { background-color: #44475a; color: #f1fa8c; }    .lang-switcher {      margin-top: 20px;      display: flex;      gap: 10px;    }  </style></head><body>  <h1>Heap Sort Visualizer</h1>  <input type="text" id="userInput" placeholder="Enter numbers comma-separated" />  <button onclick="resetArray()">Start</button>  <div class="array-container" id="array"></div>  <div class="indexes" id="indexes"></div>  <div>    <button onclick="prevStep()">Prev</button>    <button onclick="nextStep()">Next</button>    <button onclick="toggleAutoPlay()" id="toggleBtn">Play</button>  </div>  <div class="explanation" id="explanation"></div>  <div class="code-box" id="codeBox"></div>  <div class="lang-switcher">    <button onclick="switchLang('js')">JS</button>    <button onclick="switchLang('c')">C</button>    <button onclick="switchLang('cpp')">C++</button>    <button onclick="switchLang('java')">Java</button>    <button onclick="switchLang('py')">Python</button>  </div>  <script>    let array = [4, 10, 3, 5, 1];    let steps = [];    let stepIndex = 0;    let autoPlay = false;    let interval;    const codeSnippets = {      js: [        "function heapify(arr, n, i) {",        "  let largest = i;",        "  let l = 2 * i + 1;",        "  let r = 2 * i + 2;",        "  if (l < n && arr[l] > arr[largest]) largest = l;",        "  if (r < n && arr[r] > arr[largest]) largest = r;",        "  if (largest !== i) {",        "    swap(arr, i, largest);",        "    heapify(arr, n, largest);",        "  }",        "}"      ],      c: [        "void heapify(int arr[], int n, int i) {",        "  int largest = i;",        "  int l = 2 * i + 1;",        "  int r = 2 * i + 2;",        "  if (l < n && arr[l] > arr[largest]) largest = l;",        "  if (r < n && arr[r] > arr[largest]) largest = r;",        "  if (largest != i) {",        "    int temp = arr[i];",        "    arr[i] = arr[largest];",        "    arr[largest] = temp;",        "    heapify(arr, n, largest);",        "  }",        "}"      ],      cpp: [        "void heapify(vector<int>& arr, int n, int i) {",        "  int largest = i;",        "  int l = 2 * i + 1;",        "  int r = 2 * i + 2;",        "  if (l < n && arr[l] > arr[largest]) largest = l;",        "  if (r < n && arr[r] > arr[largest]) largest = r;",        "  if (largest != i) {",        "    swap(arr[i], arr[largest]);",        "    heapify(arr, n, largest);",        "  }",        "}"      ],      java: [        "void heapify(int arr[], int n, int i) {",        "  int largest = i;",        "  int l = 2 * i + 1;",        "  int r = 2 * i + 2;",        "  if (l < n && arr[l] > arr[largest]) largest = l;",        "  if (r < n && arr[r] > arr[largest]) largest = r;",        "  if (largest != i) {",        "    int temp = arr[i];",        "    arr[i] = arr[largest];",        "    arr[largest] = temp;",        "    heapify(arr, n, largest);",        "  }",        "}"      ],      py: [        "def heapify(arr, n, i):",        "  largest = i",        "  l = 2 * i + 1",        "  r = 2 * i + 2",        "  if l < n and arr[l] > arr[largest]:",        "    largest = l",        "  if r < n and arr[r] > arr[largest]:",        "    largest = r",        "  if largest != i:",        "    arr[i], arr[largest] = arr[largest], arr[i]",        "    heapify(arr, n, largest)"      ]    };    let currentLang = 'js';    let codeLines = codeSnippets[currentLang];    function switchLang(lang) {      currentLang = lang;      codeLines = codeSnippets[lang];      render();    }    function generateSteps(arr) {      const steps = [];      let n = arr.length;      let startIdx = Math.floor(n / 2) - 1;      steps.push({ type: 'check', array: [...arr], message: `Building max heap. Starting from i = floor(n/2) - 1 = ${startIdx}`, codeLine: 0 });      function heapify(arr, n, i) {        let largest = i;        let l = 2 * i + 1;        let r = 2 * i + 2;        steps.push({ type: 'check', i, l, r, array: [...arr], message: `Heapifying i=${i}, l=${l}, r=${r}`, codeLine: 1 });        steps.push({ type: 'check', i, l, r, array: [...arr], message: `Comparing left child (arr[${l}]) and parent (arr[${i}])`, codeLine: 4 });        if (l < n && arr[l] > arr[largest]) largest = l;        steps.push({ type: 'check', i, l, r, array: [...arr], message: `Comparing right child (arr[${r}]) and largest`, codeLine: 5 });        if (r < n && arr[r] > arr[largest]) largest = r;        if (largest !== i) {          steps.push({ type: 'swap', i, j: largest, message: `Swapping arr[${i}]=${arr[i]} and arr[${largest}]=${arr[largest]}`, array: [...arr], codeLine: 7 });          [arr[i], arr[largest]] = [arr[largest], arr[i]];          heapify(arr, n, largest);        }      }      for (let i = startIdx; i >= 0; i--) {        heapify(arr, n, i);      }      for (let i = n - 1; i > 0; i--) {        steps.push({ type: 'swap', i: 0, j: i, message: `Swapping root arr[0]=${arr[0]} with arr[${i}]=${arr[i]}`, array: [...arr], codeLine: 7 });        [arr[0], arr[i]] = [arr[i], arr[0]];        heapify(arr, i, 0);      }      return steps;    }    function render() {      const container = document.getElementById('array');      const idxContainer = document.getElementById('indexes');      const explanation = document.getElementById('explanation');      const codeBox = document.getElementById('codeBox');      const step = steps[stepIndex] || {};      container.innerHTML = '';      idxContainer.innerHTML = '';      (step.array || array).forEach((val, idx) => {        const bar = document.createElement('div');        bar.className = 'bar ';        if (step.i === idx || step.j === idx || step.l === idx || step.r === idx) {          bar.className += step.type === 'swap' ? 'red' : 'yellow';        } else {          bar.className += 'blue';        }        bar.textContent = val;        container.appendChild(bar);        const idxSpan = document.createElement('span');        idxSpan.textContent = idx;        idxContainer.appendChild(idxSpan);      });      explanation.innerHTML = `<b>Step ${stepIndex + 1}:</b> ${step.message || 'Initial Array'}`;      codeBox.innerHTML = codeLines.map((line, i) => {        return `<div class="${i === step.codeLine ? 'highlight' : ''}">${line}</div>`;      }).join('');    }    function nextStep() {      if (stepIndex < steps.length - 1) {        stepIndex++;        render();      }    }    function prevStep() {      if (stepIndex > 0) {        stepIndex--;        render();      }    }    function toggleAutoPlay() {      autoPlay = !autoPlay;      document.getElementById('toggleBtn').textContent = autoPlay ? 'Pause' : 'Play';      if (autoPlay) {        interval = setInterval(() => {          if (stepIndex < steps.length - 1) {            stepIndex++;            render();          } else {            clearInterval(interval);            autoPlay = false;            document.getElementById('toggleBtn').textContent = 'Play';          }        }, 1000);      } else {        clearInterval(interval);      }    }    function resetArray() {      const input = document.getElementById('userInput').value;      if (input.trim()) {        array = input.split(',').map(Number).filter(x => !isNaN(x));      }      steps = generateSteps([...array]);      stepIndex = 0;      render();    }    steps = generateSteps([...array]);    render();  </script></body></html>